/* ========== Mobile first ========== */
.projects {
  height: var(--height-h);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: url("/assets/bg_projects.webp") center/cover no-repeat;
  position: relative;
  overflow: hidden;       /* oculta desbordes del carrusel */
  padding: 1rem 0;
}

/* capa de opacidad sobre el fondo */
.projects::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(255, 255, 255, 0.6); /* blanco transl√∫cido encima */
  z-index: 0;
}

/* aseguramos que el contenido quede por encima */
.projects > * {
  position: relative;
  z-index: 1;
}

/* T√≠tulo */
.projects-title {
  font-family: var(--font-title);
  font-size: clamp(2rem, 6vw, 4rem);
  margin-bottom: 0.8rem;
  color: var(--accent);
  text-align: center;
}

/* Carrusel (contenedor) */
.carousel {
  flex: 1;                       /* ocupa el espacio central */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 92%;
  max-width: 1200px;
  overflow: hidden;
}

/* Track y slides */
.carousel-track {
  display: flex;
  align-items: center;
  width: 100%;
  transition: transform 0.6s ease;
  gap: 0;                        /* sin gap para que el translateX por % sea exacto */
}

/* el espacio entre tarjetas lo ponemos en el slide, no en el track */
.carousel-slide {
  flex: 0 0 100%;                /* en m√≥vil solo 1 por vista */
  padding: 0 1rem;               /* separaci√≥n lateral visual entre tarjetas */
  box-sizing: border-box;
  display: flex;
  justify-content: center;       /* centra la tarjeta dentro del slide */
  align-items: center;

  /* üëá perspectiva aqu√≠ (padre) para que el 3D del hover se note */
  perspective: 1000px;
  perspective-origin: 50% 40%;
}

/* Tope de tama√±o consistente para TODAS las tarjetas */
:root{
  --card-max-m: 380px;           /* tope en m√≥vil */
  --card-max-d: 520px;           /* tope en desktop */
}

/* Tarjetas limitadas en tama√±o */
.carousel .project-card {
  width: 100%;
  max-width: min(var(--card-max-m), 90vw);  /* centradas y con tope m√≥vil */
  max-height: 85svh;                        /* nunca se sale de la pantalla */
  height: auto;
  margin: 0 auto;
  object-fit: contain;

  /* animaci√≥n de aparici√≥n (ya la ten√≠as) */
  opacity: 0;
  animation: fadeInCard 1s ease forwards;
  animation-delay: 1s;
}

/* Flechas debajo */
.carousel-buttons {
  width: 100%;                  /* mismo ancho que el carrusel */
  max-width: 1200px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 1.8rem;
}

.carousel-btn {
  background: none;             /* sin fondo */
  border: none;
  cursor: pointer;
  padding: 0;
  opacity: 0;                   /* para animaci√≥n de entrada */
}

.carousel-btn img {
  width: 38px;
  height: 38px;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,.35));
  transition: transform 0.15s ease;
}

.carousel-btn:hover img {
  transform: scale(1.1);
}

.carousel-btn.right img { transform: rotate(180deg); }

/* ===== Animaciones ===== */

/* T√≠tulo */
@keyframes slideInLeft {
  0%   { transform: translateX(-120%); opacity: 0; }
  70%  { transform: translateX(8%);    opacity: 1; }
  100% { transform: translateX(0);     opacity: 1; }
}

@keyframes slideInRight {
  0%   { transform: translateX(120%); opacity: 0; }
  70%  { transform: translateX(-2%);  opacity: 1; }
  100% { transform: translateX(0);    opacity: 1; }
}

/* Flechas rebotando */
@keyframes arrowBounceIn {
  0%   { transform: translateX(200%) scale(0.8); opacity: 0; }
  60%  { transform: translateX(-15%) scale(1.1); opacity: 1; }
  80%  { transform: translateX(5%) scale(0.95); }
  100% { transform: translateX(0) scale(1); opacity: 1; }
}

/* Tarjetas fade in */
@keyframes fadeInCard {
  from { opacity: 0;  }
  to   { opacity: 1; }
}

/* Tarjetas */
.project-card {
  opacity: 0;
  animation: fadeInCard 700ms ease forwards;
  animation-delay: 1s;
}

/* Aplicamos animaciones */
.projects-title span {
  display: inline-block;
  opacity: 0;
}

.projects-title .word-mis {
  animation: slideInLeft 1s ease forwards;
}

.projects-title .word-proyectos {
  animation: slideInRight 1s ease forwards;
  animation-delay: 0.2s;
}

.carousel-btn.left {
  animation: arrowBounceIn 0.9s ease forwards;
  animation-delay: 0.6s;
}

.carousel-btn.right {
  animation: arrowBounceIn 0.9s ease forwards;
  animation-delay: 0.8s;
}

/* ========== Tablet / Desktop (‚â•768px) ========== */
@media (min-width: 768px) {
  .projects-title { margin-bottom: 1.5rem; }

  .carousel-slide {
    flex: 0 0 50%;                      /* 2 visibles en desktop */
    padding: 0 1.2rem;                  /* un poco m√°s de separaci√≥n */
  }

  .carousel .project-card {
    max-width: min(var(--card-max-d), 32vw); /* tope uniforme en desktop */
    max-height: 72svh;
    height: auto;
  }

  .carousel-buttons {
    gap: clamp(4rem, 20vw, 18rem);      /* aire entre flechas en pantallas anchas */
  }
}

/* Respeta usuarios con reduce motion */
@media (prefers-reduced-motion: reduce) {
  .carousel-track,
  .carousel .project-card,
  .carousel-btn {
    animation: none !important;
    transition: none !important;
  }
}
